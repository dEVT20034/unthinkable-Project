/* Theme variables */
:root {
  --bg: #0b1020;
  --panel: #0f1730;
  --card: #121a35;
  --muted: #98a8cd;
  --text: #e9eeff;
  --accent: #7aa2ff;
  --accent-2: #8ef;
  --danger: #ff6b6b;
  --ok: #46d28a;
  --border: rgba(255,255,255,.08);
  --shadow: 0 6px 18px rgba(0,0,0,.35);
}
:root.light {
  --bg: #f6f7fb;
  --panel: #ffffff;
  --card: #ffffff;
  --muted: #5a6792;
  --text: #0f1531;
  --accent: #3a66ff;
  --accent-2: #17b;
  --danger: #d34a4a;
  --ok: #1e9e60;
  --border: rgba(0,0,0,.08);
  --shadow: 0 4px 14px rgba(0,0,0,.08);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
}

/* Top bar */
.topbar{
  position: sticky; top:0; z-index: 20;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 16px; background:var(--panel); box-shadow: var(--shadow);
}
.brand{display:flex; align-items:center; gap:10px; font-weight:800}
.logo{font-size:20px}
.pill{
  font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid var(--border);
  color:var(--accent); background:rgba(122,162,255,.12)
}
.header-right{display:flex; align-items:center; gap:10px}
.tag{font-size:12px; color:var(--muted); border:1px solid var(--border); border-radius:999px; padding:4px 8px}

/* Layout */
.container{max-width:1100px; margin: 20px auto 80px; padding: 0 16px}
.panel{
  background: var(--panel); border:1px solid var(--border);
  border-radius:16px; padding:16px; margin-bottom:16px; box-shadow: var(--shadow);
}
h2{margin:0 0 10px}

/* Dropzone */
.dropzone{
  border:2px dashed var(--border); border-radius:14px; padding:22px; text-align:center; background:rgba(0,0,0,.08);
  outline:none; transition: all .15s ease;
}
.dropzone.dragover{ background: rgba(122,162,255,.12); border-color: rgba(122,162,255,.6) }
.dz-cta{display:flex; flex-direction:column; align-items:center; gap:6px}
.dz-icon{font-size:26px}
.dz-title{font-weight:700}
.row{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.center{justify-content:center}
.space-between{justify-content:space-between}
.push-top{margin-top:10px}
.muted{color: var(--muted)}
.small{font-size:12px}

/* Cards, lists */
.card{
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border:1px solid var(--border); border-radius:14px; padding:14px;
}
.card.subtle{background: transparent}
.card-title{font-weight:800; margin-bottom:8px; color:var(--accent-2)}

/* Buttons */
.btn{
  appearance: none; cursor: pointer; user-select: none;
  border-radius: 12px; padding: 10px 14px; font-weight: 700;
  border: 1px solid var(--border); background: linear-gradient(180deg, rgba(122,162,255,.18), rgba(122,162,255,.08));
  color: var(--text);
}
.btn.primary{ background: linear-gradient(180deg, rgba(71,140,255,.35), rgba(71,140,255,.15)) }
.btn.secondary{ background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)) }
.btn.danger{ background: linear-gradient(180deg, rgba(255,80,80,.25), rgba(255,80,80,.1)); border-color: rgba(255,80,80,.25) }
.icon-btn{ border:1px solid var(--border); background: transparent; padding:6px 8px; border-radius:8px; cursor:pointer; color:var(--text)}

/* Inputs */
textarea{
  width: 100%; min-height: 120px; resize: vertical;
  padding: 12px; border-radius: 12px; border:1px solid var(--border);
  background: rgba(0,0,0,.08); color: var(--text);
}
input[type=number]{ width: 70px; padding: 8px; border-radius:10px; border:1px solid var(--border); background: rgba(0,0,0,.08); color: var(--text); margin-left:8px }
.inline{display:flex; align-items:center; gap:6px}

/* Ask grid */
.ask-grid{display:grid; grid-template-columns: 1.3fr 1fr; gap:16px}
@media (max-width: 900px){ .ask-grid{grid-template-columns: 1fr} }

.answer{white-space: pre-wrap; line-height:1.5}
.cites summary{cursor:pointer}
.filelist{display:flex; flex-direction:column; gap:6px}
.filelist.empty{color: var(--muted)}
.file-item{
  display:flex; align-items:center; gap:8px; padding:8px 10px;
  border:1px dashed var(--border); border-radius:10px; background: rgba(0,0,0,.05);
}
.badge{font-size:11px; padding:2px 6px; border-radius:6px; border:1px solid var(--border); color:var(--muted)}
.ok{color: var(--ok)}
.err{color: var(--danger)}

/* Progress */
.progress{height:10px; background: rgba(255,255,255,.08); border-radius:8px; overflow: hidden; margin-top:10px}
.progress .bar{height: 100%; background: linear-gradient(90deg, var(--accent), #9af); transition: width .2s}

/* Examples */
.examples{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px }
.chip{ border:1px solid var(--border); border-radius:999px; padding:8px 10px; background: transparent; color: var(--text); cursor:pointer }
.chip:hover{ background: rgba(122,162,255,.15) }

/* Status */
.status-grid{display:grid; grid-template-columns: repeat(3, 1fr); gap:12px}
.stat{ border:1px solid var(--border); border-radius:12px; padding:12px; background: var(--card) }
.stat-label{ color: var(--muted); font-size:12px }
.stat-value{ font-size:22px; font-weight:800; margin-top:4px }

/* Toast */
.toast{
  position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
  background: var(--card); border:1px solid var(--border); border-radius:10px;
  padding:10px 14px; box-shadow: var(--shadow); color: var(--text);
}

/* Utilities */
.visually-hidden{
  position:absolute !important; width:1px; height:1px; padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
}
a{color: var(--accent); text-decoration:none}
a:hover{text-decoration:underline}